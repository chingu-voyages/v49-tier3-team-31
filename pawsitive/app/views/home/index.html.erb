<div class="flex flex-1">
  <section class="bg-slate-200 basis-20 shrink-0 px-1">
    <%= form_with do |f| %>
      <div class="bg-white px-4 pb-1 leading-8">
        <fieldset class="mb-4">
          <%= f.label :service_type, class: "block" %>
          <%= f.select :service_type, ["Boarding", "Daycare"], {}, class: "w-full" %>
        </fieldset>
        <fieldset class="my-4">
          <%= f.label :location, "Near" %>
          <%= f.text_field :location, placeholder: "Zip code or Address" %>
        </fieldset>
        <fieldset class="my-4">
          <%= f.label :dates, class: "block" %>
          <div class="flex w-full">
            <%= f.text_field :drop_off, class: "w-32", placeholder: "Drop off", onfocus: "this.type='date';this.showPicker();", onblur: "this.type='text'" %>
            <svg class="inline w-4 mx-1 fill-slate-400" viewBox="0 0 32 32"><path d="M26.793 17H3a1 1 0 110-2h23.793L21.5 9.707a1 1 0 011.414-1.414l6.647 6.646a1.5 1.5 0 010 2.122l-6.647 6.646a1 1 0 01-1.414-1.414L26.793 17z"></path></svg>
            <%= f.text_field :pick_up, class: "w-32", placeholder: "Pick up", onfocus: "this.type='date';this.showPicker();", onblur: "this.type='text'" %>
          </div>
        </fieldset>
        <fieldset class="my-4">
          <p>How many pets?</p>
          <div class="flex justify-around">
            <div>
              <%= f.label :pet_number_1, "1" %>
              <%= f.radio_button :pet_number, "1" %>
            </div>
            <div>
              <%= f.label :pet_number_2, "2" %>
              <%= f.radio_button :pet_number, "2" %>
            </div>
            <div>
              <%= f.label :pet_number_3, "3+" %>
              <%= f.radio_button :pet_number, "3" %>
            </div>
          </div>
        </fieldset>
        <fieldset class="my-4">
          <p>Pet type(s)</p>
          <div class="flex justify-around">
            <div>
              <%= f.label :pet_type_dog, "Dog" %>
              <%= f.check_box :pet_type_dog, checked: true %>
            </div>
            <div>
              <%= f.label :pet_type_cat, "Cat" %>
              <%= f.check_box :pet_type_cat %>
            </div>
          </div>
        </fieldset>
        <%# if pet_type_cat && !pet_cat_dog %>
        <fieldset class="my-4">
          <p>Dog size (lbs)</p>
          <div class="flex justify-between content-center">
            <div>
              <%= f.label :dog_size_15, "0-15" %>
              <%= f.check_box :dog_size_15 %>
            </div>
            <div>
              <%= f.label :dog_size_40, "16-40" %>
              <%= f.check_box :dog_size_40 %>
            </div>
            <div>
              <%= f.label :dog_size_100, "41-100" %>
              <%= f.check_box :dog_size_100 %>
            </div>
            <div>
              <%= f.label :dog_size_101, "100+" %>
              <%= f.check_box :dog_size_101 %>
            </div>
          </div>
        </fieldset>
        <fieldset class="my-4">
          <%= f.label :price, "Rate per day/night", class: "block mb-2" %>
          <div class="flex content-center">
            <span class="range-low basis-10">$1</span>
            <div class="range-slider flex-1 mr-4 translate-y-1" style="margin-bottom: 0"></div>
            <span class="range-high basis-10">$250</span>
          </div>
        </fieldset>
      </div>
      <div class="px-4 mt-4 leading-9">
        <div class="flex justify-between">
          <span>Filters</span>
          <button type="reset" class="text-blue-700 font-semibold">Reset all</button>
        </div>
        <fieldset class="my-4">
          <legend class="font-semibold">Housing Conditions</legend>
          <div class="w-full border-t border-slate-500 h-2"></div>
          <div>
            <%= f.check_box :housing_condition_house %>
            <%= f.label :housing_condition_house, "Has house (excludes apartments)" %>
          </div>
          <div>
            <%= f.check_box :housing_condition_fence %>
            <%= f.label :housing_condition_fence, "Has fenced yard" %>
          </div>
          <div>
            <%= f.check_box :housing_condition_furniture %>
            <%= f.label :housing_condition_furniture, "Dogs allowed on furniture" %>
          </div>
          <div>
            <%= f.check_box :housing_condition_bed %>
            <%= f.label :housing_condition_bed, "Dogs allowed on bed" %>
          </div>
          <div>
            <%= f.check_box :housing_condition_no_smoke %>
            <%= f.label :housing_condition_no_smoke, "Non-smoking home" %>
          </div>
        </fieldset>
        <fieldset class="my-4">
          <legend class="font-semibold">Pets in the home</legend>
          <div class="w-full border-t border-slate-500 h-2"></div>
          <div>
            <%= f.check_box :pets_in_home_no_dog %>
            <%= f.label :pets_in_home_no_dog, "Doesn't own a dog" %>
          </div>
          <div>
            <%= f.check_box :pets_in_home_no_cat %>
            <%= f.label :pets_in_home_no_cat, "Doesn't own a cat" %>
          </div>
          <div>
            <%= f.check_box :pets_in_home_one %>
            <%= f.label :pets_in_home_one, "Accepts only one client at a time" %>
          </div>
          <div>
            <%= f.check_box :pets_in_home_no_cage %>
            <%= f.label :pets_in_home_no_cage, "Does not own caged pets" %>
          </div>
        </fieldset>
        <fieldset class="my-4">
          <legend class="font-semibold">Children in the home</legend>
          <div class="w-full border-t border-slate-500 h-2"></div>
          <div>
            <%= f.check_box :children_in_home_none %>
            <%= f.label :children_in_home_none, "Has no children" %>
          </div>
          <div>
            <%= f.check_box :children_in_home_5 %>
            <%= f.label :children_in_home_5, "No children 0-5 years old" %>
          </div>
          <div>
            <%= f.check_box :children_in_home_12 %>
            <%= f.label :children_in_home_12, "No children 6-12 years old" %>
          </div>
        </fieldset>
        <fieldset class="my-4">
          <legend class="font-semibold">Additional services</legend>
          <div class="w-full border-t border-slate-500 h-2"></div>
          <div>
            <%= f.check_box :additional_services_puppy_care %>
            <%= f.label :additional_services_puppy_care, "Puppy care" %>
          </div>
          <div>
            <%= f.check_box :additional_services_cat_care %>
            <%= f.label :additional_services_cat_care, "Cat care" %>
          </div>
          <div>
            <%= f.check_box :additional_services_unspayed_females %>
            <%= f.label :additional_services_unspayed_females, "Accepts unspayed female dogs" %>
          </div>
          <div>
            <%= f.check_box :additional_services_unneuted_male %>
            <%= f.label :additional_services_unneuted_male, "Accepts non neutered male dogs" %>
          </div>
          <div>
            <%= f.check_box :additional_services_bathing_grooming %>
            <%= f.label :additional_services_bathing_grooming, "Bathing / Grooming" %>
          </div>
          <div>
            <%= f.check_box :additional_services_first_aid %>
            <%= f.label :additional_services_first_aid, "Dog first-aid / CPR" %>
          </div>
        </fieldset>
      </div>
    <% end %>
  </section>
  <section class="flex-1">
    Show search results
  </section class="flex-1">
  <section>
    Show map
  </section>
</div>
<script>
    let slider = new RangeSlider('.range-slider', {
      values: [1, 250],
      min: 1,
      max: 250,
      pointRadius: 8
    });
    slider.onChange(values => {
      const lowEle = document.querySelector(".range-low");
      const highEle = document.querySelector(".range-high");
      lowEle.textContent = `$${values[0]}`;
      highEle.textContent = `$${values[1]}`;
    });
</script>